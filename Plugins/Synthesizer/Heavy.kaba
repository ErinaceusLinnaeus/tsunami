use "../api.kaba"


class HeavySynthesizer : Synthesizer
	DummySynthesizer sub
	overwrite void render(BufferBox buf)
		sub.setSampleRate(sample_rate)
		for e in events
			MidiEvent ee = e
			ee.volume = e.volume * 0.5
			sub.events.add(ee)
			ee.pitch = e.pitch + 12
			ee.volume = e.volume * 0.2
			sub.events.add(ee)
			ee.pitch = e.pitch + 24
			ee.volume = e.volume * 0.05
			sub.events.add(ee)
			ee.pitch = e.pitch + 36
			ee.volume = e.volume * 0.01
			sub.events.add(ee)
		sub.render(buf)
