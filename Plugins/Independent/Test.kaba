use "../api.kaba"

class MyDialog extends Dialog
	TsunamiPlugin* plugin
	void __init__(TsunamiPlugin* _plugin)
		super.__init__("", 300, 200, _plugin.session.win, false)
		plugin = _plugin
		add_edit("", 0, 0, "edit")
		event("edit", &onChange)
		event("hui:close", &onClose)
	void onChange()
		print("ssss")
	void onClose()
		plugin.stop()

class Test extends TsunamiPlugin
	Dialog *dlg
	override void on_start()
		dlg = new MyDialog(self)
		dlg.show()
	override void on_stop()
		delete dlg
