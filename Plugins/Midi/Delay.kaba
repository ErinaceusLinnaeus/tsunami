use "../api.kaba"

const string AutoConfigdelay = "-2:2:1:1000:ms"

class Config : PluginData
	float delay
	
	overwrite void reset()
		delay = 0

class Delay : MidiEffect
	Config config
	
	overwrite void process(MidiData midi)
		AudioFile *a = plugin_context.track.root
		int dt = a.sample_rate * config.delay
		for n in midi
			n.pos += dt
